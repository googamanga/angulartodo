/*! angulartodo - v0.0.0 - 2013-10-12 */!function(exports,global){global["true"]=exports,angular.module("angulartodo",["ui.bootstrap","ngSanitize"]).run(["$rootScope",function($rootScope){$rootScope.$safeApply=function(fn){var phase=this.$root.$$phase;"$apply"==phase||"$digest"==phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)}}]),angular.module("angulartodo").controller("todoController",["$scope","urlRegEx","$sce","$http",function($scope,urlRegEx,$sce,$http){var publicMembers=$scope,privateMembers={};privateMembers.taskFactory=function(text){var type;return type=urlRegEx.isYoutube(text)?"youtube":urlRegEx.isLink(text)?"link":"text",{title:"",type:type,text:text,status:"active"}},publicMembers.task="",publicMembers.tasks=[],publicMembers.addTask=function(text){publicMembers.$safeApply(function(){var task;publicMembers.tasks.unshift(privateMembers.taskFactory(text)),task=publicMembers.tasks[0],"youtube"==task.type&&$http.post("/youtubeInfo",{id:"tgd6ENKK0mM"}).then(function(response){response.data.entry&&(task.title=response.data.entry.title.$t,console.log(task.title))}),publicMembers.task=""})},publicMembers.trustedSource=function(source){return $sce.trustAsResourceUrl(source)}}]),angular.module("angulartodo").factory("urlRegEx",[function(){return{isYoutube:function(string){return/^(http|https):\/\/+(www.youtube.com\/watch\?v=|www.youtu.be\/|www.youtube.com\/embed\/)+\w{11}/.test(string)},isLink:function(string){return/^(http|https):\/\//.test(string)}}}]),angular.module("angulartodo").run(["$templateCache",function($templateCache){$templateCache.put("index.html",'<!doctype html><html lang="en" ng-app="angulartodo"><head><meta charset="utf-8"><title>TodoMVC</title><script src="vendor.js"></script><script src="app.js"></script><link rel="stylesheet" href="app.css"></head><body><nav class="navbar navbar-inverse navbar-static-top"><a href="" class="navbar-brand">Angular TodoMVC</a></nav><div class="root-content-margin-box" ng-controller="todoController"><div class="root-content-border-box"><div class="root-content-padding-box"><div class="root-content-content-box"><form role="form" ng-submit="addTask(task);"><div class="form-group"><input type="text" class="form-control" placeholder="Enter a task" ng-model="task"></div></form><form role="form"><div class="form-group" ng-repeat="task in tasks"><div class="well"><ng-include ng-if="task.type == \'youtube\'" src="\'partials/youtube.html\'"></ng-include><ng-include ng-if="task.type == \'link\'" src="\'partials/link.html\'"></ng-include><ng-include ng-if="task.type == \'text\'" src="\'partials/text.html\'"></ng-include></div></div></form></div></div></div></div></body></html>'),$templateCache.put("partials/link.html","Link"),$templateCache.put("partials/text.html","{{task.text}}"),$templateCache.put("partials/youtube.html",'<strong>{{task.title || "Title not found"}}</strong><iframe class="youtube-player" type="text/html" width="640" height="385" ng-src="{{trustedSource(task.text)}}" allowfullscreen="" frameborder="0"></iframe>')}])}({},function(){return this}());
//# sourceMappingURL=app.map